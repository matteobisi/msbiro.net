<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Troubleshooting CyberArk Conjur Follower Setup and Postgres Connectivity | Cloud Native & Open Source: A Team Lead’s Working Journal</title><meta name=keywords content="conjur,follower,postgres,troubleshooting"><meta name=description content="During our work with a CyberArk Conjur environment, we encountered strange behavior during the Conjur follower setup.
The setup process on the follower would start, the seed was received, imported, and expanded, but after a few more steps, the process would hang and end with a generic &ldquo;System Error.&rdquo;
After displaying the error message, the Conjur follower would restart.
We performed troubleshooting inside the Conjur Follower pod and verified that the follower could connect to the Conjur API leader successfully, but it was unable to connect to the Postgres database and complete the initial replication."><meta name=author content="Matteo Bisi"><link rel=canonical href=https://www.msbiro.net/posts/pagetroubleshooting-conjur-follower-setup-postgres-connectivity/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.a516143e5559c1645cc35eac03bc22702f5d381e9f57ec606411ce8780bea60f.css integrity="sha256-pRYUPlVZwWRcw16sA7wicC9dOB6fV+xgZBHOh4C+pg8=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/troubleshooting-conjur-follower-setup-postgres-connectivity/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://localhost:1313/posts/troubleshooting-conjur-follower-setup-postgres-connectivity/"><meta property="og:site_name" content="Cloud Native & Open Source: A Team Lead’s Working Journal"><meta property="og:title" content="Troubleshooting CyberArk Conjur Follower Setup and Postgres Connectivity"><meta property="og:description" content="During our work with a CyberArk Conjur environment, we encountered strange behavior during the Conjur follower setup.
The setup process on the follower would start, the seed was received, imported, and expanded, but after a few more steps, the process would hang and end with a generic “System Error.”
After displaying the error message, the Conjur follower would restart.
We performed troubleshooting inside the Conjur Follower pod and verified that the follower could connect to the Conjur API leader successfully, but it was unable to connect to the Postgres database and complete the initial replication."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-21T11:23:03+00:00"><meta property="article:modified_time" content="2022-11-21T11:23:03+00:00"><meta property="article:tag" content="Conjur"><meta property="article:tag" content="Follower"><meta property="article:tag" content="Postgres"><meta property="article:tag" content="Troubleshooting"><meta property="og:image" content="http://localhost:1313/%3Cimage%20path/url%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Cimage%20path/url%3E"><meta name=twitter:title content="Troubleshooting CyberArk Conjur Follower Setup and Postgres Connectivity"><meta name=twitter:description content="During our work with a CyberArk Conjur environment, we encountered strange behavior during the Conjur follower setup.
The setup process on the follower would start, the seed was received, imported, and expanded, but after a few more steps, the process would hang and end with a generic &ldquo;System Error.&rdquo;
After displaying the error message, the Conjur follower would restart.
We performed troubleshooting inside the Conjur Follower pod and verified that the follower could connect to the Conjur API leader successfully, but it was unable to connect to the Postgres database and complete the initial replication."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Troubleshooting CyberArk Conjur Follower Setup and Postgres Connectivity","item":"http://localhost:1313/posts/troubleshooting-conjur-follower-setup-postgres-connectivity/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Troubleshooting CyberArk Conjur Follower Setup and Postgres Connectivity","name":"Troubleshooting CyberArk Conjur Follower Setup and Postgres Connectivity","description":"During our work with a CyberArk Conjur environment, we encountered strange behavior during the Conjur follower setup.\nThe setup process on the follower would start, the seed was received, imported, and expanded, but after a few more steps, the process would hang and end with a generic \u0026ldquo;System Error.\u0026rdquo;\nAfter displaying the error message, the Conjur follower would restart.\nWe performed troubleshooting inside the Conjur Follower pod and verified that the follower could connect to the Conjur API leader successfully, but it was unable to connect to the Postgres database and complete the initial replication.\n","keywords":["conjur","follower","postgres","troubleshooting"],"articleBody":"During our work with a CyberArk Conjur environment, we encountered strange behavior during the Conjur follower setup.\nThe setup process on the follower would start, the seed was received, imported, and expanded, but after a few more steps, the process would hang and end with a generic “System Error.”\nAfter displaying the error message, the Conjur follower would restart.\nWe performed troubleshooting inside the Conjur Follower pod and verified that the follower could connect to the Conjur API leader successfully, but it was unable to connect to the Postgres database and complete the initial replication.\nThe correct way to verify Postgres connectivity from the follower to the leader is with the following command:\necho \"\" | openssl s_client -starttls postgres -connect :5432 -showcerts If the server certificate is returned, Postgres connectivity is working as expected.\nIn our case, we were unable to retrieve the certificate, which pointed us to an issue with the network load balancer. A colleague was able to fix the problem there.\nThanks to CyberArk support for providing us with the openssl command, which is easy to run from the container or any server. We had tried other verification methods, but openssl s_client is readily available on most containers and servers.\nFor more information about openssl s_client and its options, check out this helpful blog post.\n","wordCount":"219","inLanguage":"en","image":"http://localhost:1313/%3Cimage%20path/url%3E","datePublished":"2022-11-21T11:23:03Z","dateModified":"2022-11-21T11:23:03Z","author":{"@type":"Person","name":"Matteo Bisi"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/troubleshooting-conjur-follower-setup-postgres-connectivity/"},"publisher":{"@type":"Organization","name":"Cloud Native \u0026 Open Source: A Team Lead’s Working Journal","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/aboutme/ title="About Me"><span>About Me</span></a></li><li><a href=http://localhost:1313/privacy-policy/ title="Privacy Policy"><span>Privacy Policy</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Troubleshooting CyberArk Conjur Follower Setup and Postgres Connectivity</h1><div class=post-meta><span title='2022-11-21 11:23:03 +0000 GMT'>November 21, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;219 words&nbsp;·&nbsp;Matteo Bisi&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/troubleshooting-conjur-follower-setup-postgres-connectivity.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>During our work with a CyberArk Conjur environment, we encountered strange behavior during the Conjur follower setup.</p><p>The setup process on the follower would start, the seed was received, imported, and expanded, but after a few more steps, the process would hang and end with a generic &ldquo;System Error.&rdquo;</p><p>After displaying the error message, the Conjur follower would restart.</p><p>We performed troubleshooting inside the Conjur Follower pod and verified that the follower could connect to the Conjur API leader successfully, but it was unable to connect to the Postgres database and complete the initial replication.</p><p>The correct way to verify Postgres connectivity from the follower to the leader is with the following command:</p><pre tabindex=0><code>echo &#34;&#34; | openssl s_client -starttls postgres -connect &lt;lb_DNS&gt;:5432 -showcerts
</code></pre><p>If the server certificate is returned, Postgres connectivity is working as expected.</p><p>In our case, we were unable to retrieve the certificate, which pointed us to an issue with the network load balancer. A colleague was able to fix the problem there.</p><p>Thanks to CyberArk support for providing us with the openssl command, which is easy to run from the container or any server. We had tried other verification methods, but openssl s_client is readily available on most containers and servers.</p><p>For more information about openssl s_client and its options, check out this helpful <a href=https://www.misterpki.com/openssl-s-client/>blog post</a>.</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/conjur/>Conjur</a></li><li><a href=http://localhost:1313/tags/follower/>Follower</a></li><li><a href=http://localhost:1313/tags/postgres/>Postgres</a></li><li><a href=http://localhost:1313/tags/troubleshooting/>Troubleshooting</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/how-make-developers-and-security-officers-happy-with-snyk/><span class=title>« Prev</span><br><span>How Is It Possible to Make Both Developers and Security Officers Happy? Try Snyk!</span>
</a><a class=next href=http://localhost:1313/posts/cyberark-vault-synchronizer-casvm035e-fix/><span class=title>Next »</span><br><span>CyberArk Vault Synchronizer – CASVM035E Vault Name Is Missing: How to Fix It</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Cloud Native & Open Source: A Team Lead’s Working Journal</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>