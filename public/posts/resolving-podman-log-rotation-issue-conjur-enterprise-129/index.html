<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Resolving Podman Log Rotation Issues in CyberArk Conjur Container 12.9 Deployments | Cloud Native & Open Source: A Team Lead’s Working Journal</title><meta name=keywords content="conjur,cyberark,podman,12.9"><meta name=description content="CyberArk Conjur is released as an appliance and distributed as container images to enable fast, error-free setup.
The supported container runtimes include:

Docker 20.10 or later
Mirantis Container Runtime 20.10
Podman 3.x, 4.x

While working with multiple Conjur environments in our labs and at customer sites, we noticed that log rotation (for Conjur, Nginx, cluster, etc.) did not function correctly on Podman, although it worked as expected on Docker.
After some investigation with the excellent CyberArk support team, we identified the solution:"><meta name=author content="Matteo Bisi"><link rel=canonical href=https://www.msbiro.net/posts/resolving-podman-log-rotation-issue-conjur-enterprise-129/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.c3b54239756d37a29131dfc93f51ca6f5d88a4f8f2a1edf68701341c075702ec.css integrity="sha256-w7VCOXVtN6KRMd/JP1HKb12IpPjyoe32hwE0HAdXAuw=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/resolving-podman-log-rotation-issue-conjur-enterprise-129/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://localhost:1313/posts/resolving-podman-log-rotation-issue-conjur-enterprise-129/"><meta property="og:site_name" content="Cloud Native & Open Source: A Team Lead’s Working Journal"><meta property="og:title" content="Resolving Podman Log Rotation Issues in CyberArk Conjur Container 12.9 Deployments"><meta property="og:description" content="CyberArk Conjur is released as an appliance and distributed as container images to enable fast, error-free setup.
The supported container runtimes include:
Docker 20.10 or later Mirantis Container Runtime 20.10 Podman 3.x, 4.x While working with multiple Conjur environments in our labs and at customer sites, we noticed that log rotation (for Conjur, Nginx, cluster, etc.) did not function correctly on Podman, although it worked as expected on Docker.
After some investigation with the excellent CyberArk support team, we identified the solution:"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-24T17:30:03+00:00"><meta property="article:modified_time" content="2023-05-24T17:30:03+00:00"><meta property="article:tag" content="Conjur"><meta property="article:tag" content="Cyberark"><meta property="article:tag" content="Podman"><meta property="article:tag" content="12.9"><meta property="og:image" content="http://localhost:1313/%3Cimage%20path/url%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Cimage%20path/url%3E"><meta name=twitter:title content="Resolving Podman Log Rotation Issues in CyberArk Conjur Container 12.9 Deployments"><meta name=twitter:description content="CyberArk Conjur is released as an appliance and distributed as container images to enable fast, error-free setup.
The supported container runtimes include:

Docker 20.10 or later
Mirantis Container Runtime 20.10
Podman 3.x, 4.x

While working with multiple Conjur environments in our labs and at customer sites, we noticed that log rotation (for Conjur, Nginx, cluster, etc.) did not function correctly on Podman, although it worked as expected on Docker.
After some investigation with the excellent CyberArk support team, we identified the solution:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Resolving Podman Log Rotation Issues in CyberArk Conjur Container 12.9 Deployments","item":"http://localhost:1313/posts/resolving-podman-log-rotation-issue-conjur-enterprise-129/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Resolving Podman Log Rotation Issues in CyberArk Conjur Container 12.9 Deployments","name":"Resolving Podman Log Rotation Issues in CyberArk Conjur Container 12.9 Deployments","description":"CyberArk Conjur is released as an appliance and distributed as container images to enable fast, error-free setup.\nThe supported container runtimes include:\nDocker 20.10 or later Mirantis Container Runtime 20.10 Podman 3.x, 4.x While working with multiple Conjur environments in our labs and at customer sites, we noticed that log rotation (for Conjur, Nginx, cluster, etc.) did not function correctly on Podman, although it worked as expected on Docker.\nAfter some investigation with the excellent CyberArk support team, we identified the solution:\n","keywords":["conjur","cyberark","podman","12.9"],"articleBody":"CyberArk Conjur is released as an appliance and distributed as container images to enable fast, error-free setup.\nThe supported container runtimes include:\nDocker 20.10 or later Mirantis Container Runtime 20.10 Podman 3.x, 4.x While working with multiple Conjur environments in our labs and at customer sites, we noticed that log rotation (for Conjur, Nginx, cluster, etc.) did not function correctly on Podman, although it worked as expected on Docker.\nAfter some investigation with the excellent CyberArk support team, we identified the solution:\nThe Conjur container needs to be re-created with the AUDIT_WRITE capability added:\npodman run \\ ... --cap-add AUDIT_WRITE \\ ... registry.tld/conjur-appliance:12.9.0 To minimize noise in the Nginx logs, it is also necessary to set the following permission inside every Conjur container:\nchmod 701 /opt/cyberark/dap/log/nginx The CyberArk support team was, as always, extremely helpful in assisting us and collaborating to find this solution. These issues are now documented in the CyberArk documentation and should be addressed in future updates.\nIf you experience the same issue, I recommend contacting CyberArk support to confirm whether this solution is applicable to your environment.\n","wordCount":"181","inLanguage":"en","image":"http://localhost:1313/%3Cimage%20path/url%3E","datePublished":"2023-05-24T17:30:03Z","dateModified":"2023-05-24T17:30:03Z","author":{"@type":"Person","name":"Matteo Bisi"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/resolving-podman-log-rotation-issue-conjur-enterprise-129/"},"publisher":{"@type":"Organization","name":"Cloud Native \u0026 Open Source: A Team Lead’s Working Journal","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/aboutme/ title="About Me"><span>About Me</span></a></li><li><a href=http://localhost:1313/privacy-policy/ title="Privacy Policy"><span>Privacy Policy</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Resolving Podman Log Rotation Issues in CyberArk Conjur Container 12.9 Deployments</h1><div class=post-meta><span title='2023-05-24 17:30:03 +0000 +0000'>May 24, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;181 words&nbsp;·&nbsp;Matteo Bisi&nbsp;|&nbsp;<a href=https://github.com/matteobisi/msbiro.net/tree/main/content/posts/resolving-podman-log-rotation-issue-conjur-enterprise-129.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>CyberArk Conjur is released as an appliance and distributed as container images to enable fast, error-free setup.</p><p>The supported container runtimes include:</p><ul><li>Docker 20.10 or later</li><li>Mirantis Container Runtime 20.10</li><li>Podman 3.x, 4.x</li></ul><p>While working with multiple Conjur environments in our labs and at customer sites, we noticed that log rotation (for Conjur, Nginx, cluster, etc.) did not function correctly on Podman, although it worked as expected on Docker.</p><p>After some investigation with the excellent CyberArk support team, we identified the solution:</p><p>The Conjur container needs to be re-created with the AUDIT_WRITE capability added:</p><pre tabindex=0><code>podman run \
...
--cap-add AUDIT_WRITE \
...
registry.tld/conjur-appliance:12.9.0
</code></pre><p>To minimize noise in the Nginx logs, it is also necessary to set the following permission inside every Conjur container:</p><pre tabindex=0><code>chmod 701 /opt/cyberark/dap/log/nginx
</code></pre><p>The CyberArk support team was, as always, extremely helpful in assisting us and collaborating to find this solution.
These issues are now documented in the CyberArk documentation and should be addressed in future updates.</p><p>If you experience the same issue, I recommend contacting CyberArk support to confirm whether this solution is applicable to your environment.</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/conjur/>Conjur</a></li><li><a href=http://localhost:1313/tags/cyberark/>Cyberark</a></li><li><a href=http://localhost:1313/tags/podman/>Podman</a></li><li><a href=http://localhost:1313/tags/12.9/>12.9</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/conjur-13-is-available/><span class=title>« Prev</span><br><span>CyberArk Conjur 13 has been released.</span>
</a><a class=next href=http://localhost:1313/posts/sighup-secure-container-how-choose-base-image-security/><span class=title>Next »</span><br><span>SIGHUP Secure Containers: how do you choose the oci base image for your workload?</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Cloud Native & Open Source: A Team Lead’s Working Journal</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>